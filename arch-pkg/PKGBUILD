# Maintainer: David Bernhard <davidbernhard.w@gmail.com>
pkgname=simple-reconnect-daemon
pkgver=0.0.1
pkgrel=1
pkgdesc="Simple Reconnect Daemon"
arch=('any')
_srctag=v${pkgver%.*}-${pkgver##*.}
url="https://github.com/dbernhard-0x7CD/simple-reconnect-daemon/commits/$_srctag"
license=('GPL2')
groups=()
depends=(libsystemd libconfig glibc)
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=('etc/srd/srd.conf')
options=('strip')
install=
changelog=
source=('srd.conf')
noextract=()
sha256sums=('b96840484ced981d203de18da82e2710e21335799aa3f5e910f5d749b4252245')
validpgpkeys=()


prepare() {
    echo 0 > /dev/null
}

build() {
    make
}

package() {
    install -Dm755 ./srd "${pkgdir}/usr/bin/srd"

    install -Dm644 ./srd.conf "${pkgdir}/etc/srd/srd.conf"
    install -Dm644 ./srd.service "${pkgdir}/usr/lib/systemd/system/srd.service"

    install -Dm644 ./ThirdPartyLicenses.txt "${pkgdir}/usr/share/srd/ThirdPartyLicenses.txt"

    install -Dm644 ./LICENSE "${pkgdir}/usr/share/srd/LICENSE"
}
